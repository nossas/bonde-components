workspace:
  base: /code

pipeline:
  build:
    image: node:12-alpine
    commands:
      - yarn
      - yarn run lint
      - yarn run test
      - yarn run build
    when:
      status: success
      branch: [hotfix/*, release/*, feature/*, support/*, develop]

  # notify:
  #   image: plugins/slack
  #   channel: bonde_bots
  #   username: CI - ${DRONE_REPO_NAME}
  #   secrets: [ slack_webhook ]
  #   when:
  #     event: [ push, tag, build, publish, deployment, pull_request ]
  #     status: [ success, failure ]
